# 1장 신뢰할 수 있고 확장 가능하며 유지보수가 쉬운 어플리케이션

어플리케이션의 필수 요소

- 데이터베이스
- 캐시
- 인덱스
- 스트림 처리
- 배치

-> 요구 사항에 따라 추상화 된 기능 중 맞는 시스템을 채택할 필요성이 있음

## 데이터 시스템에 대한 생각

데이터 시스템을 포괄적으로 묶어야 하는 이유?

1. 기존 시스템은 특정한 카테고리로 정의 하기가 어렵고, Use Case에 따라 분류하기에 경계가 흐릿해짐
2. 단일 도구로서의 역할보다는 광범위한 요구사항을 처리하는 것이 필요

소프트웨어의 가장 중요하게 여기는 3가지 관심사는?

1. 신뢰성
    - 하드웨어, 소프트웨어 인적 fault에 직면하였을 때 소프트웨어는 올바르게 수행 가능 요구
2. 확장성
    - 시스템의 데이터와 트래픽 양이 증가하면서 처리할 수 있는 적절한 방법 모색 필요
3. 유지보수성
    - 모든 시스템 담당자들이 개발 이후에도 생산적으로 작업 할 수 있도록 조치 적용 필요


## 신뢰성

소프트웨어에 기대하는 일반적인 기대치는?

- 사용자가 원하는 기능 수행
- 사용자의 실수나 예측 하지 못한 소프트웨어 사용 허용
- 성능은 부하와 데이터에 양에서 필수적인 사용 사례 만족
- 허가 되지 않은 접근 방지

결함 해결을 위해 테스트 종류 예시
- 카오스 몽키
    - 자연적인 결함 발생 유도

### 하드웨어 결함

실제 하드웨어 장비 결함 - 실제로 빈번

시스템 장애 대응을 위한 대응

- 중복 추가
    - 핫 스왑 가능한 CPU 탑재, 예비 전원
- 소프트웨어 내결함 기술 추가

### 소프트웨어 결함

신속한 해결책 부재
해결 하기 위한 노력들
- 빈틈 없는 테스트
- 모니터링
- 분석하기

### 인적 오류

- 문서화, 샌드박스 도입, 메트릭 등등으로 해결

### 신뢰성은 얼마나 중요할까?

- 서비스의 중요도에 따라 다름
- 비용을 위해 포기해 할 수도 있음

## 확장성

시스템이 커지기 위해 투자해야하는 자원

### 부하 기술하기

시스템 설계에 따라 달라짐

매개 변수의 기준
- 웹 서버 초당 요청 수
- 데이터베이스 읽기 쓰기 비율

### 성능 기술하기

시스템 부하 테스트 방법
1. 부하 매개변수를 증가 시키고 시스템 자원을 변경하지 않았을 때, 성능 상태
2. 부하 매개변수를 증가 시켰을 때 성능이 변하지 않고 유지하였을 경우 추가 자원 필요양

위 테스트를 통해 확인해야하는 사항
1. 처리량
2. 응답 시간

일반적인 Response Time 측정 방법
- 백분위를 통한 중앙값 계산

성능이 비즈니스에 결부되어 측정할 경우
- 서비스 수준 목표(SLO)
- 서비스 수준 협약서(SLA)

-> 위 지표들은 중앙값 및 outlier에 해당하는 값이 얼마나 적은 지를 판별하여 계약

### 부하 대응 접근 정식

1. 용량 확장 (Scale up)
2. 규모 확장 (Scale out)
    - 고사양 장비는 비싸기 때문에 피할 수 없는 선택지

## 유지보수성

소프트웨어 시스템 설계 원칙
- 운용성
    - 운영팀이 시스템을 원활하게 운영할 수 있도록 만듬
- 단순성
    - 시스템 복잡도를 최대한 제거해 새로운 엔지니어가 시스템을 이해하기 쉽게 만듬
- 발전성
    - 시스템을 쉽게 변경할 수 있게 하여야 함

### 운용성 : 운영의 편리함 만들기

자동화 및 아래의 작업을 수행하는 운영팀 필수
- 모니터링 및 필요 시 원복
- 장애, 성능 저하 트래킹
- 보안 패치 수행
- 배포, 설정 관리 도구 마련

### 단순성 : 복잡도 관리

복잡한 소프트웨어의 경우 변경 시 장애 발생 가능
-> 추상화를 통해 직관적이고 깔끔하도록 변경 (ex.SQL은 사실 기계어를 포매팅 한 것에 불과)

### 발전성 : 변화를 더 쉽게 만들기

바뀌는 요구사항에 따라 아키텍처 변화를 쉽게 할수 있도록 적용 필요

## 정리

기능적 요구사항 및 비기능적 요구 사항을 정리하는 챕터

1. 신뢰성
2. 확장성
3. 유지보수성


## Q & A

트위터 아키텍처 예측 : https://twitter.com/alexxubyte/status/1518981294494871553
